{# Display information about a Twitter user. #}
{# Expects a single `user` which is a Twitter User object. #}
{# And an optional 'account' if this user has an Account here. #}

{% load l10n %}

<div class="card twitter-user">
    <div class="card-block">
        <h4 class="card-title m-b-0 twitter-user-name">
            {{ user.name }}
            <small class="text-muted twitter-user-screenname">{{ user }}</small>
        </h4>
    </div>
    <ul class="list-group list-group-flush twitter-user-about">
        {% if user.description %}
            <li class="list-group-item twitter-user-description">{{ user.description }}</li>
        {% endif %}
        {% if user.location %}
            <li class="list-group-item twitter-user-location">{{ user.location }}</li>
        {% endif %}
        {% if user.url %}
            <li class="list-group-item twitter-user-url">{{ user.url|cut:"http://"|cut:"https://"|urlizetrunc:15 }}</li>
        {% endif %}
        <li class="list-group-item twitter-user-joined">Joined {{ user.created_at|date:"M Y" }}</li>
        {% if account == None or account.is_active %}
            <li class="list-group-item twitter-user-link"><a href="{{ user.permalink }}">At Twitter.com</a></li>
        {% endif %}
    </ul>
</div>

<div class="card twitter-user">
    <ul class="list-group list-group-flush twitter-user-counts">
        <li class="list-group-item">{{ user.statuses_count|localize }} Tweet{{ user.statuses_count|pluralize }}</li>
        <li class="list-group-item">{{ user.favorites_count|localize }} Like{{ user.favorites_count|pluralize }}</li>
        <li class="list-group-item">{{ user.followers_count|localize }} Follower{{ user.followers_count|pluralize }}</li>
        <li class="list-group-item">Following {{ user.friends_count|localize }}</li>
        <li class="list-group-item">On {{ user.listed_count|localize }} List{{ user.listed_count|pluralize }}</li>
    </ul>
</div>

<div class="card twitter-user">
    <div class="card-block">
        <p class="card-text text-muted">
            {% load ditto %}
            <small>As of {% time_link user.fetch_time %}</small>
        </p>
    </div>
</div>
